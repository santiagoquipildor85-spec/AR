<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realidad Aumentada - Detector de Formas</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="ar-styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#764ba2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <script src="https://docs.opencv.org/4.7.0/opencv.js"></script>
</head>
<body class="ar-body">
    <div class="ar-container">
        <header class="ar-header">
            <h1>üåü Realidad Aumentada</h1>
            <button id="backBtn" class="btn-back">‚Üê Volver</button>
        </header>

        <div class="camera-container">
            <video id="video" autoplay playsinline></video>
            <canvas id="canvas"></canvas>
            <div class="ar-overlay" id="arOverlay"></div>
        </div>

        <div class="controls-ar">
            <button id="startAR" class="btn-primary">Iniciar C√°mara AR</button>
            <button id="stopAR" class="btn-secondary" style="display: none;">Detener AR</button>
            <div class="shape-selector">
                <label>Forma objetivo:</label>
                <select id="shapeSelect">
                    <option value="circle">C√≠rculo</option>
                    <option value="square">Cuadrado</option>
                    <option value="triangle">Tri√°ngulo</option>
                    <option value="rectangle">Rect√°ngulo</option>
                </select>
            </div>
        </div>

        <div class="info-panel">
            <h3>üéØ Formas Detectadas:</h3>
            <div id="detectionInfo" class="detection-info">
                <p>Apunta la c√°mara hacia formas geom√©tricas...</p>
            </div>
        </div>

        <div class="instructions-ar">
            <h3>üìã Instrucciones:</h3>
            <ul>
                <li>Presiona "Iniciar C√°mara AR"</li>
                <li>Apunta hacia objetos con formas geom√©tricas</li>
                <li>La informaci√≥n aparecer√° flotando sobre las formas detectadas</li>
                <li>Cambia el tipo de forma en el selector para diferentes detecciones</li>
            </ul>
        </div>
    </div>

    <!-- Plantillas de informaci√≥n para cada forma -->
    <template id="circleInfo">
        <div class="ar-info-card circle-info">
            <h4>üîµ C√≠rculo Detectado</h4>
            <p><strong>√Årea:</strong> <span class="area-value"></span></p>
            <p><strong>Radio aproximado:</strong> <span class="radius-value"></span></p>
            <p><strong>Caracter√≠stica:</strong> Forma perfectamente sim√©trica</p>
            <div class="info-details">
                <small>Los c√≠rculos representan perfecci√≥n y continuidad en el dise√±o</small>
            </div>
        </div>
    </template>

    <template id="squareInfo">
        <div class="ar-info-card square-info">
            <h4>üü© Cuadrado Detectado</h4>
            <p><strong>√Årea:</strong> <span class="area-value"></span></p>
            <p><strong>Lado aproximado:</strong> <span class="side-value"></span></p>
            <p><strong>Caracter√≠stica:</strong> Cuatro lados iguales</p>
            <div class="info-details">
                <small>Los cuadrados simbolizan estabilidad y equilibrio</small>
            </div>
        </div>
    </template>

    <template id="triangleInfo">
        <div class="ar-info-card triangle-info">
            <h4>üî∫ Tri√°ngulo Detectado</h4>
            <p><strong>√Årea:</strong> <span class="area-value"></span></p>
            <p><strong>Per√≠metro:</strong> <span class="perimeter-value"></span></p>
            <p><strong>Caracter√≠stica:</strong> Tres v√©rtices</p>
            <div class="info-details">
                <small>Los tri√°ngulos representan direcci√≥n y movimiento</small>
            </div>
        </div>
    </template>

    <template id="rectangleInfo">
        <div class="ar-info-card rectangle-info">
            <h4>üü¶ Rect√°ngulo Detectado</h4>
            <p><strong>√Årea:</strong> <span class="area-value"></span></p>
            <p><strong>Dimensiones:</strong> <span class="dimensions-value"></span></p>
            <p><strong>Caracter√≠stica:</strong> Cuatro √°ngulos rectos</p>
            <div class="info-details">
                <small>Los rect√°ngulos proporcionan estructura y organizaci√≥n</small>
            </div>
        </div>
    </template>

    <script src="ar-detector.js"></script>
</body>
</html>
